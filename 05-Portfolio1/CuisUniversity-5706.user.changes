

----QUIT----(20 March 2023 11:15:29) CuisUniversity-5706.image priorSource: 4313282!

----STARTUP---- (20 March 2023 11:15:29) as /Users/hernan/Documents/Cuis/5.0-64Bits/Cuis-University-Installer/CuisUniversity-5706.image!


----QUIT----(20 March 2023 11:15:30) CuisUniversity-5706.image priorSource: 8712809!

----STARTUP---- (20 May 2023 10:58:10) as /Users/fabrizioprida/Desktop/ejercicioPortfolio1/CuisUniversity-5706.image!


----SNAPSHOT----(20 May 2023 10:58:42) CuisUniversity-5706.image priorSource: 8713034!

----End fileIn of /Users/fabrizioprida/Desktop/1erCuat2023/Inge1/repoMateria/2023-1c/06-Portfolio1/Portfolio-Ejercicio.st----!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 10:59:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 10:59:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 10:59:39'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 10:59:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 10:59:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 10:59:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 10:59:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 10:59:39'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 10:59:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 10:59:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 10:59:50'!
FAILURE!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 10:59:50'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 10:59:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 10:59:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 10:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 10:59:57'!
PASSED!
!ReceptiveAccount methodsFor: 'balance' stamp: 'FP 5/20/2023 11:02:17' prior: 50604155!
balance

	^transactions 
		inject: 0 
		into: [:accumulatedBalance :aTransaction | aTransaction affectBalance: accumulatedBalance ].
! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:02:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:02:26'!
ERROR!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:02:26'!
ERROR!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:02:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:02:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:02:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:02:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:02:28'!
ERROR!
!AccountTransaction methodsFor: 'balance' stamp: 'FP 5/20/2023 11:02:48'!
affectBalance: accumulatedBalance 
	self shouldBeImplemented.! !
!AccountTransaction methodsFor: 'balance' stamp: 'FP 5/20/2023 11:03:15' prior: 50604267!
affectBalance: aBalanceToAffect 
	
	self subclassResponsibility ! !

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:03:16'!
ERROR!
!Deposit methodsFor: 'balance' stamp: 'FP 5/20/2023 11:03:23' overrides: 50604272!
affectBalance: accumulatedBalance 
	self shouldBeImplemented.! !
!Deposit methodsFor: 'balance' stamp: 'FP 5/20/2023 11:03:52' prior: 50604281 overrides: 50604272!
affectBalance: aBalanceToAffect

	^aBalanceToAffect + value 
	
	! !

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:03:54'!
ERROR!
!Withdraw methodsFor: 'balance' stamp: 'FP 5/20/2023 11:04:00' overrides: 50604272!
affectBalance: accumulatedBalance 
	self shouldBeImplemented.! !
!Withdraw methodsFor: 'balance' stamp: 'FP 5/20/2023 11:04:17' prior: 50604300 overrides: 50604272!
affectBalance: aBalanceToAffefct 
	
	^aBalanceToAffefct - value! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:04:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:04:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:04:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:04:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:04:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:04:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:04:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:04:21'!
PASSED!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 11:09:46'!
Object subclass: #Portfolio
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:09:35'!
test08EmptyPorftolioHasBalanceZero 

	|portfolio |
	
	portfolio := Portfolio new. 
	
	self assert: 0 equals: portfolio balance
! !

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:09:48'!
ERROR!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:09:48'!
ERROR!
!Portfolio methodsFor: 'balance' stamp: 'FP 5/20/2023 11:10:03'!
balance
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'balance' stamp: 'FP 5/20/2023 11:10:11' prior: 50604361!
balance
	
	^0! !

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:10:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:10:15'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:13:17'!
test09PortfolioContainingOnlyAccountsHasSameBalanceAsTheAccountsBalanceSum

	|portfolio account1 account2 |
	
	portfolio := Portfolio new. 
	
	account1 := ReceptiveAccount new. 
	Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	Deposit register:  75 on: account2.
	
	portfolio add: account1.
	portfolio add: account2.	
	
	self assert: 175 equals: portfolio balance.! !

!testRun: #ReceptiveAccountTest #test09PortfolioContainingOnlyAccountsHasSameBalanceAsTheAccountsBalanceSum stamp: 'FP 5/20/2023 11:13:19'!
ERROR!

!testRun: #ReceptiveAccountTest #test09PortfolioContainingOnlyAccountsHasSameBalanceAsTheAccountsBalanceSum stamp: 'FP 5/20/2023 11:13:19'!
ERROR!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 11:14:44'!
Object subclass: #Portfolio
	instanceVariableNames: 'accounts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'balance' stamp: 'FP 5/20/2023 11:15:01' prior: 50604365!
balance
	
	accounts isEmpty ifTrue: [^0].
	accounts sum: [:anAccount | anAccount balance] ifEmpty: [0].! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:15:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:15:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:15:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:15:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:15:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:15:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:15:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:15:02'!
ERROR!

!testRun: #ReceptiveAccountTest #test09PortfolioContainingOnlyAccountsHasSameBalanceAsTheAccountsBalanceSum stamp: 'FP 5/20/2023 11:15:02'!
ERROR!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:15:04'!
ERROR!
!Portfolio methodsFor: 'nil' stamp: 'FP 5/20/2023 11:15:32' overrides: 16920235!
initialize 

	accounts := OrderedCollection new.! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:15:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioContainingOnlyAccountsHasSameBalanceAsTheAccountsBalanceSum stamp: 'FP 5/20/2023 11:15:34'!
ERROR!

!testRun: #ReceptiveAccountTest #test09PortfolioContainingOnlyAccountsHasSameBalanceAsTheAccountsBalanceSum stamp: 'FP 5/20/2023 11:15:34'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:16:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:16:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:16:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:16:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:16:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:16:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:16:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:16:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioContainingOnlyAccountsHasSameBalanceAsTheAccountsBalanceSum stamp: 'FP 5/20/2023 11:16:00'!
ERROR!

!testRun: #ReceptiveAccountTest #test09PortfolioContainingOnlyAccountsHasSameBalanceAsTheAccountsBalanceSum stamp: 'FP 5/20/2023 11:16:00'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:16:20'!
add: account1 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:16:38' prior: 50604533!
add: anAccountToAdd 
	
	accounts add: anAccountToAdd ! !

!testRun: #ReceptiveAccountTest #test09PortfolioContainingOnlyAccountsHasSameBalanceAsTheAccountsBalanceSum stamp: 'FP 5/20/2023 11:16:39'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioContainingOnlyAccountsHasSameBalanceAsTheAccountsBalanceSum stamp: 'FP 5/20/2023 11:16:44'!
FAILURE!

!testRun: #ReceptiveAccountTest #test09PortfolioContainingOnlyAccountsHasSameBalanceAsTheAccountsBalanceSum stamp: 'FP 5/20/2023 11:16:44'!
FAILURE!
!Portfolio methodsFor: 'balance' stamp: 'FP 5/20/2023 11:16:52' prior: 50604407!
balance
	
	accounts isEmpty ifTrue: [^0].
	^accounts sum: [:anAccount | anAccount balance] ifEmpty: [0].! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:16:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:16:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:16:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:16:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:16:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:16:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:16:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:16:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioContainingOnlyAccountsHasSameBalanceAsTheAccountsBalanceSum stamp: 'FP 5/20/2023 11:16:53'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:20:58'!
test10PortfolioContainingPortfoliosAndAccountsHasSameBalanceAsIncludedBalancesSum

	|portfolio innerPortfolio account1 account2|
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	account1 := ReceptiveAccount new. 
	Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	Deposit register:  75 on: account2.
	
	portfolio add: account1.
	innerPortfolio add: account2.	
	
	portfolio add: innerPortfolio.
	
	self assert: 175 equals: portfolio balance.
	! !

!testRun: #ReceptiveAccountTest #test10PortfolioContainingPortfoliosAndAccountsHasSameBalanceAsIncludedBalancesSum stamp: 'FP 5/20/2023 11:21:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioContainingPortfoliosAndAccountsHasSameBalanceAsIncludedBalancesSum stamp: 'FP 5/20/2023 11:21:04'!
PASSED!

!methodRemoval: ReceptiveAccountTest #test10PortfolioContainingPortfoliosAndAccountsHasSameBalanceAsIncludedBalancesSum stamp: 'FP 5/20/2023 11:21:21'!
test10PortfolioContainingPortfoliosAndAccountsHasSameBalanceAsIncludedBalancesSum

	|portfolio innerPortfolio account1 account2|
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	account1 := ReceptiveAccount new. 
	Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	Deposit register:  75 on: account2.
	
	portfolio add: account1.
	innerPortfolio add: account2.	
	
	portfolio add: innerPortfolio.
	
	self assert: 175 equals: portfolio balance.
	!

!methodRemoval: ReceptiveAccountTest #test09PortfolioContainingOnlyAccountsHasSameBalanceAsTheAccountsBalanceSum stamp: 'FP 5/20/2023 11:21:25'!
test09PortfolioContainingOnlyAccountsHasSameBalanceAsTheAccountsBalanceSum

	|portfolio account1 account2 |
	
	portfolio := Portfolio new. 
	
	account1 := ReceptiveAccount new. 
	Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	Deposit register:  75 on: account2.
	
	portfolio add: account1.
	portfolio add: account2.	
	
	self assert: 175 equals: portfolio balance.!

!methodRemoval: Portfolio #add: stamp: 'FP 5/20/2023 11:21:32'!
add: anAccountToAdd 
	
	accounts add: anAccountToAdd !
!Portfolio methodsFor: 'balance' stamp: 'FP 5/20/2023 11:10:11' prior: 50604587!
balance
	
	^0! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:21:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:21:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:21:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:21:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:21:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:21:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:21:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:21:48'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:23:26'!
test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum

	|portfolio account1 account2|
	
	portfolio := Portfolio new. 
	
	account1 := ReceptiveAccount new. 
	Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	Deposit register:  75 on: account2.
	
	portfolio addAccount: account1.
	portfolio addAccount: account2.	
	
	self assert: 175 equals: portfolio balance.
	! !

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:23:29'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:23:35'!
addAccount: account1 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:23:48' prior: 50604750!
addAccount: anAccountToAdd 
	
	accounts add: anAccountToAdd ! !

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:23:49'!
FAILURE!
!Portfolio methodsFor: 'balance' stamp: 'FP 5/20/2023 11:24:32' prior: 50604697!
balance
	
	accounts isEmpty ifTrue: [^0].
	^accounts sum: [:anAccount | anAccount balance] ifEmpty: [0]! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:24:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:24:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:24:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:24:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:24:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:24:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:24:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:24:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:24:33'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:25:02'!
test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum

	|portfolio innerPortfolio account1 account2|
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	account1 := ReceptiveAccount new. 
	Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	Deposit register:  75 on: account2.
	
	portfolio addAccount: account1.
	innerPortfolio addAccount: account2.	
	
	portfolio addPortfolio: innerPortfolio.
	
	self assert: 175 equals: portfolio balance.
	! !

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:25:04'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:25:08'!
addPortfolio: innerPortfolio 
	self shouldBeImplemented.! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 11:25:41'!
Object subclass: #Portfolio
	instanceVariableNames: 'accounts innerPortfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:25:39' prior: 50604828!
addPortfolio: aPortfolioToAdd
	
	innerPortfolios add: aPortfolioToAdd ! !

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:25:41'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:25:54' prior: 50604451 overrides: 16920235!
initialize 

	accounts := OrderedCollection new.
	innerPortfolios := OrderedCollection new! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:25:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:25:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:25:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:25:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:25:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:25:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:25:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:25:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:25:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:25:55'!
FAILURE!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:25:55'!
FAILURE!
!Portfolio methodsFor: 'balance' stamp: 'FP 5/20/2023 11:26:59' prior: 50604765!
balance
	
	|accountsBalance portfoliosBalance|
	
	accountsBalance := accounts sum: [:anAccount | anAccount balance] ifEmpty: [0].
	
	portfoliosBalance := innerPortfolios sum: [:innerPortfolio | innerPortfolio balance] ifEmpty: [0].
	
	! !
!Portfolio methodsFor: 'balance' stamp: 'FP 5/20/2023 11:27:10' prior: 50604901!
balance
	
	|accountsBalance portfoliosBalance|
	
	accountsBalance := accounts sum: [:anAccount | anAccount balance] ifEmpty: [0].
	
	portfoliosBalance := innerPortfolios sum: [:innerPortfolio | innerPortfolio balance] ifEmpty: [0].
	
	^accountsBalance + portfoliosBalance 
	
	! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:27:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:27:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:27:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:27:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:27:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:27:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:27:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:27:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:27:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:27:12'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:27:48'!
test11EmptyPortfolioHasNoRegisteredTransactions

	|portfolio account aDeposit|
	
	portfolio := Portfolio new. 
	account := ReceptiveAccount new.
	aDeposit := Deposit register:  100 on: account.
		
	self assert: false equals: (portfolio hasRegistered: aDeposit).
	! !

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 11:27:58'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:28:05'!
hasRegistered: aDeposit 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:28:26' prior: 50604976!
hasRegistered: aTransaction 
	
	^false! !

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 11:28:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:28:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:28:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:28:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:28:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:28:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:28:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:28:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:28:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:28:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:28:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 11:28:27'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:29:12'!
test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts

	|portfolio account1 account2 deposit1 deposit2|
	
	portfolio := Portfolio new. 
	
	account1 := ReceptiveAccount new. 
	deposit1:= Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	deposit2:= Deposit register:  75 on: account2.
	
	portfolio addAccount: account1.
	portfolio addAccount: account2.	
	
	self assert: true equals: (portfolio hasRegistered: deposit1).
	self assert: true equals: (portfolio hasRegistered: deposit2).	! !

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 11:29:14'!
FAILURE!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 11:29:14'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:30:01' prior: 50604981!
hasRegistered: aTransaction 
	
	accounts isEmpty ifTrue: [^false].
	^accounts anySatisfy: [:anAccount | anAccount hasRegistered: aTransaction]! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:30:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:30:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:30:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:30:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:30:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:30:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:30:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:30:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:30:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:30:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 11:30:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 11:30:02'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:30:47'!
test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem

	|portfolio innerPortfolio account1 account2 deposit1 deposit2|
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	account1 := ReceptiveAccount new. 
	deposit1 := Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	deposit2 := Deposit register:  75 on: account2.
	
	portfolio addAccount: account1.
	innerPortfolio addAccount: account2.	
	
	portfolio addPortfolio: innerPortfolio.
	
	self assert: true equals: (portfolio hasRegistered: deposit1).
	self assert: true equals: (portfolio hasRegistered: deposit2).	! !

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 11:30:48'!
FAILURE!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 11:30:48'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:32:07' prior: 50605060!
hasRegistered: aTransaction 
	
	|registeredInAccounts registeredInPortfolios|
	
	registeredInAccounts := accounts anySatisfy: [:anAccount | anAccount hasRegistered: aTransaction].
	
	registeredInPortfolios := innerPortfolios anySatisfy: [:innerPortfolio | innerPortfolio hasRegistered: aTransaction ].
	
	^registeredInAccounts or: registeredInPortfolios ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:32:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:32:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:32:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:32:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:32:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:32:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:32:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:32:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:32:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:32:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 11:32:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 11:32:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 11:32:08'!
PASSED!

!classDefinition: #FinancialContainer category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 11:34:48'!
Object subclass: #FinancialContainer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 11:34:48'!
FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'accounts innerPortfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

FinancialContainer subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 11:34:54'!
FinancialContainer subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 11:35:58'!
FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'accounts innerPortfolios innerFinancialContainers'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'nil' stamp: 'FP 5/20/2023 11:35:57'!
add: aFinancialContainer

	innerFinancialContainers add: aFinancialContainer ! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:36:11' prior: 50604730!
test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum

	|portfolio account1 account2|
	
	portfolio := Portfolio new. 
	
	account1 := ReceptiveAccount new. 
	Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	Deposit register:  75 on: account2.
	
	portfolio add: account1.
	portfolio add: account2.	
	
	self assert: 175 equals: portfolio balance.
	! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:36:17' prior: 50604805!
test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum

	|portfolio innerPortfolio account1 account2|
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	account1 := ReceptiveAccount new. 
	Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	Deposit register:  75 on: account2.
	
	portfolio add: account1.
	innerPortfolio add: account2.	
	
	portfolio addPortfolio: innerPortfolio.
	
	self assert: 175 equals: portfolio balance.
	! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:36:22' prior: 50605031!
test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts

	|portfolio account1 account2 deposit1 deposit2|
	
	portfolio := Portfolio new. 
	
	account1 := ReceptiveAccount new. 
	deposit1:= Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	deposit2:= Deposit register:  75 on: account2.
	
	portfolio add: account1.
	portfolio add: account2.	
	
	self assert: true equals: (portfolio hasRegistered: deposit1).
	self assert: true equals: (portfolio hasRegistered: deposit2).	! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:36:27' prior: 50605114!
test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem

	|portfolio innerPortfolio account1 account2 deposit1 deposit2|
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	account1 := ReceptiveAccount new. 
	deposit1 := Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	deposit2 := Deposit register:  75 on: account2.
	
	portfolio add: account1.
	innerPortfolio add: account2.	
	
	portfolio addPortfolio: innerPortfolio.
	
	self assert: true equals: (portfolio hasRegistered: deposit1).
	self assert: true equals: (portfolio hasRegistered: deposit2).	! !

!methodRemoval: Portfolio #addAccount: stamp: 'FP 5/20/2023 11:36:30'!
addAccount: anAccountToAdd 
	
	accounts add: anAccountToAdd !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:36:38' prior: 50605272!
test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum

	|portfolio innerPortfolio account1 account2|
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	account1 := ReceptiveAccount new. 
	Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	Deposit register:  75 on: account2.
	
	portfolio add: account1.
	innerPortfolio add: account2.	
	
	portfolio add: innerPortfolio.
	
	self assert: 175 equals: portfolio balance.
	! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:36:42' prior: 50605310!
test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem

	|portfolio innerPortfolio account1 account2 deposit1 deposit2|
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	account1 := ReceptiveAccount new. 
	deposit1 := Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	deposit2 := Deposit register:  75 on: account2.
	
	portfolio add: account1.
	innerPortfolio add: account2.	
	
	portfolio add: innerPortfolio.
	
	self assert: true equals: (portfolio hasRegistered: deposit1).
	self assert: true equals: (portfolio hasRegistered: deposit2).	! !

!methodRemoval: Portfolio #addPortfolio: stamp: 'FP 5/20/2023 11:36:45'!
addPortfolio: aPortfolioToAdd
	
	innerPortfolios add: aPortfolioToAdd !
!Portfolio methodsFor: 'balance' stamp: 'FP 5/20/2023 11:37:23' prior: 50604911!
balance
	
	^innerFinancialContainers sum: [:innerFinancialContainer | innerFinancialContainer balance] ifEmpty: [0].
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:37:55' prior: 50605147!
hasRegistered: aTransaction 
	
	
	^innerFinancialContainers 
		anySatisfy: [:innerFinancialContainer| innerFinancialContainer hasRegistered: aTransaction]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:38:06' prior: 50604852 overrides: 16920235!
initialize 

	innerFinancialContainers := OrderedCollection new.! !

FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'accounts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 11:38:19'!
FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'accounts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:38:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:38:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:38:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:38:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:38:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:38:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:38:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:38:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:38:20'!
PASSED!

FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'innerFinancialContainers'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 11:38:39'!
FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'innerFinancialContainers'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 11:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 11:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 11:38:40'!
PASSED!
!FinancialContainer methodsFor: 'nil' stamp: 'FP 5/20/2023 11:38:56'!
balance

	self subclassResponsibility ! !
!FinancialContainer methodsFor: 'nil' stamp: 'FP 5/20/2023 11:39:07'!
hasRegistered: aTransaction 

	self subclassResponsibility ! !
!FinancialContainer methodsFor: 'nil' stamp: 'FP 5/20/2023 11:39:20'!
transactions

	self subclassResponsibility ! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:40:04'!
test14EmptyPortfolioHasNoTransactions
	
	self assert: OrderedCollection new equals: Portfolio new transactions.
	! !

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 11:40:07'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:40:13' overrides: 50605524!
transactions
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:40:21' prior: 50605539 overrides: 50605524!
transactions
	
	^OrderedCollection new! !

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 11:40:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 11:40:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:40:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:40:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:40:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:40:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:40:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:40:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:40:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:40:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:40:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:40:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 11:40:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 11:40:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 11:40:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 11:40:24'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:40:59'!
test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem

	|portfolio innerPortfolio account1 account2 deposit1 deposit2 expectedTransactions|
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	account1 := ReceptiveAccount new. 
	deposit1 := Deposit register:  100 on: account1. 
	account2 := ReceptiveAccount new. 
	deposit2 := Deposit register:  75 on: account2.
	
	portfolio add: account1.
	innerPortfolio add: account2.	
	
	portfolio add: innerPortfolio.
	
	expectedTransactions := OrderedCollection with: deposit1 with: deposit2.
	
	self assert: expectedTransactions equals: portfolio transactions.! !

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 11:41:01'!
FAILURE!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 11:41:01'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:43:52' prior: 50605544 overrides: 50605524!
transactions
	
	innerFinancialContainers isEmpty ifTrue: [^OrderedCollection new].
	innerFinancialContainers 
		inject: OrderedCollection new
		into: [:accumulatedTransactions :innerFinancialContainer | 
				accumulatedTransactions , innerFinancialContainer transactions]! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 11:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 11:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 11:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 11:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 11:43:55'!
ERROR!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 11:43:55'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:44:04' prior: 50605699 overrides: 50605524!
transactions
	
	innerFinancialContainers isEmpty ifTrue: [^OrderedCollection new].
	^innerFinancialContainers 
		inject: OrderedCollection new
		into: [:accumulatedTransactions :innerFinancialContainer | 
				accumulatedTransactions , innerFinancialContainer transactions]! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:44:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:44:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:44:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:44:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:44:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:44:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:44:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:44:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:44:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:44:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 11:44:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 11:44:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 11:44:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 11:44:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 11:44:06'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:44:12' prior: 50605776 overrides: 50605524!
transactions
	
	^innerFinancialContainers 
		inject: OrderedCollection new
		into: [:accumulatedTransactions :innerFinancialContainer | 
				accumulatedTransactions , innerFinancialContainer transactions]! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:44:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:44:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:44:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:44:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:44:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:44:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:44:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:44:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:44:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:44:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 11:44:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 11:44:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 11:44:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 11:44:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 11:44:13'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:47:52'!
test16PortfolioCannotAddItself

	|portfolio |
	portfolio := Portfolio new. 
	
	self 
		should:  [portfolio add: portfolio]
		raise: Error
		withExceptionDo: [:anError |
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	! !

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 11:47:55'!
FAILURE!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 11:47:56'!
FAILURE!
!Portfolio class methodsFor: 'nil' stamp: 'FP 5/20/2023 11:49:38'!
cannotAddErrorMessage

	^'The financial container trying to be added is or includes a container already in hierarchy'! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 11:49:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 11:49:41'!
FAILURE!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 11:49:41'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:50:56' prior: 50605251!
add: aFinancialContainer

	aFinancialContainer = self ifTrue: [self error: self class cannotAddErrorMessage].
	
	innerFinancialContainers add: aFinancialContainer ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 11:50:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 11:50:58'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:52:57'!
test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio

	|portfolio accountToBeAdded|
	
	portfolio := Portfolio new. 
	
	accountToBeAdded := ReceptiveAccount new. 
	portfolio add: accountToBeAdded . 
	
	self 
		should:  [portfolio add: accountToBeAdded ]
		raise: Error
		withExceptionDo: [:anError |
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	
		! !

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 11:53:00'!
FAILURE!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 11:53:00'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:54:05' prior: 50606007!
add: aFinancialContainer

	aFinancialContainer = self ifTrue: [self error: self class cannotAddErrorMessage].
	
	(innerFinancialContainers anySatisfy: [:innerFinancialContainer | innerFinancialContainer = aFinancialContainer])
		ifTrue: [self error: self class cannotAddErrorMessage ].
	
	innerFinancialContainers add: aFinancialContainer ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 11:54:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 11:54:06'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 11:55:46'!
test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected

	|portfolio innerPortfolio accountToBeAdded |
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	accountToBeAdded := ReceptiveAccount new. 
	
	innerPortfolio add: accountToBeAdded .	
	portfolio add: innerPortfolio.
	
	
	self 
		should:  [portfolio add: accountToBeAdded]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	

		! !

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 11:55:48'!
FAILURE!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 11:55:48'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 11:59:57' prior: 50606104!
add: aFinancialContainer

	aFinancialContainer = self ifTrue: [self error: self class cannotAddErrorMessage].
	
	(innerFinancialContainers anySatisfy: [:innerFinancialContainer | innerFinancialContainer = aFinancialContainer])
		ifTrue: [self error: self class cannotAddErrorMessage ].
		
	(innerFinancialContainers anySatisfy: [:innerFinancialContainer | innerFinancialContainer includesFinancialContainer: aFinancialContainer])
		ifTrue: [self error: self class cannotAddErrorMessage ].
		
	
	innerFinancialContainers add: aFinancialContainer ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:00:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:00:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:00:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:00:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:00:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 12:00:17'!
FAILURE!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:00:19'!
ERROR!
!FinancialContainer methodsFor: 'nil' stamp: 'FP 5/20/2023 12:01:17'!
includesFinancialContainer: aFinancialContainerToSearch

	self subclassResponsibility ! !
!ReceptiveAccount methodsFor: 'nil' stamp: 'FP 5/20/2023 12:01:31' overrides: 50606310!
includesFinancialContainer: aFinancialContainerToSearch

	^self = aFinancialContainerToSearch ! !
!Portfolio methodsFor: 'nil' stamp: 'FP 5/20/2023 12:03:19' overrides: 50606310!
includesFinancialContainer: aFinancialContainerToSearch

	^(innerFinancialContainers 
			anySatisfy: [:innerFinancialContainer | innerFinancialContainer includesFinancialContainer: aFinancialContainerToSearch ])! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:03:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 12:03:20'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:04:34'!
assertFinancialContainerIsNotSelf: aFinancialContainer

	^ aFinancialContainer = self ifTrue: [self error: self class cannotAddErrorMessage]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:04:34' prior: 50606214!
add: aFinancialContainer

	self assertFinancialContainerIsNotSelf: aFinancialContainer.
	
	(innerFinancialContainers anySatisfy: [:innerFinancialContainer | innerFinancialContainer = aFinancialContainer])
		ifTrue: [self error: self class cannotAddErrorMessage ].
		
	(innerFinancialContainers anySatisfy: [:innerFinancialContainer | innerFinancialContainer includesFinancialContainer: aFinancialContainer])
		ifTrue: [self error: self class cannotAddErrorMessage ].
		
	
	innerFinancialContainers add: aFinancialContainer ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:04:57'!
assertFinancialContainerIsNotDirectlyConnectedDescendant: aFinancialContainer

	^ (innerFinancialContainers anySatisfy: [:innerFinancialContainer | innerFinancialContainer = aFinancialContainer])
		ifTrue: [self error: self class cannotAddErrorMessage ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:04:57' prior: 50606412!
add: aFinancialContainer

	self assertFinancialContainerIsNotSelf: aFinancialContainer.
	
	self assertFinancialContainerIsNotDirectlyConnectedDescendant: aFinancialContainer.
		
	(innerFinancialContainers anySatisfy: [:innerFinancialContainer | innerFinancialContainer includesFinancialContainer: aFinancialContainer])
		ifTrue: [self error: self class cannotAddErrorMessage ].
		
	
	innerFinancialContainers add: aFinancialContainer ! !

!methodRemoval: ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 12:13:21'!
test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected

	|portfolio innerPortfolio accountToBeAdded |
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	accountToBeAdded := ReceptiveAccount new. 
	
	innerPortfolio add: accountToBeAdded .	
	portfolio add: innerPortfolio.
	
	
	self 
		should:  [portfolio add: accountToBeAdded]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	

		!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:13:29' prior: 50606442!
add: aFinancialContainer

	self assertFinancialContainerIsNotSelf: aFinancialContainer.
	
	self assertFinancialContainerIsNotDirectlyConnectedDescendant: aFinancialContainer.
	
	innerFinancialContainers add: aFinancialContainer ! !

!methodRemoval: Portfolio #includesFinancialContainer: stamp: 'FP 5/20/2023 12:15:37'!
includesFinancialContainer: aFinancialContainerToSearch

	^(innerFinancialContainers 
			anySatisfy: [:innerFinancialContainer | innerFinancialContainer includesFinancialContainer: aFinancialContainerToSearch ])!

!methodRemoval: ReceptiveAccount #includesFinancialContainer: stamp: 'FP 5/20/2023 12:15:39'!
includesFinancialContainer: aFinancialContainerToSearch

	^self = aFinancialContainerToSearch !

!methodRemoval: FinancialContainer #includesFinancialContainer: stamp: 'FP 5/20/2023 12:15:42'!
includesFinancialContainer: aFinancialContainerToSearch

	self subclassResponsibility !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:15:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:15:44'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 12:16:41'!
test18AddingFinancialContainerThatIsInsidePortfolioButNotDirectlyConnectedIsNotPossible

	|portfolio innerPortfolio accountToBeAdded|
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	accountToBeAdded := ReceptiveAccount new. 
	Deposit register:  100 on: accountToBeAdded . 
	
	innerPortfolio add: accountToBeAdded .	
	portfolio add: innerPortfolio.
		
	self 
		should:  [portfolio add: accountToBeAdded ]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	
! !

!testRun: #ReceptiveAccountTest #test18AddingFinancialContainerThatIsInsidePortfolioButNotDirectlyConnectedIsNotPossible stamp: 'FP 5/20/2023 12:16:43'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:18:17' prior: 50606479!
add: aFinancialContainer

	self assertFinancialContainerIsNotSelf: aFinancialContainer.
	
	self assertFinancialContainerIsNotDirectlyConnectedDescendant: aFinancialContainer.
	
	(innerFinancialContainers anySatisfy: [:innerFinancialContainer | innerFinancialContainer isDescendant: aFinancialContainer])
		ifTrue: [self error: self class cannotAddErrorMessage ].
	
	innerFinancialContainers add: aFinancialContainer ! !
!FinancialContainer methodsFor: 'nil' stamp: 'FP 5/20/2023 12:18:36'!
isDescendant: aFinancialContainerToSearch

	self subclassResponsibility ! !
!Portfolio methodsFor: 'nil' stamp: 'FP 5/20/2023 12:19:50' overrides: 50606620!
isDescendant: aFinancialContainerToSearch

	^innerFinancialContainers 
		anySatisfy: [:innerFinancialContainer | 
			innerFinancialContainer = aFinancialContainerToSearch or: (innerFinancialContainer isDescendant: aFinancialContainerToSearch)]! !
!ReceptiveAccount methodsFor: 'nil' stamp: 'FP 5/20/2023 12:19:59' overrides: 50606620!
isDescendant: aFinancialContainerToSearch

	^self = aFinancialContainerToSearch ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:20:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test18AddingFinancialContainerThatIsInsidePortfolioButNotDirectlyConnectedIsNotPossible stamp: 'FP 5/20/2023 12:20:01'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:20:47'!
assertFinancialContainerIsNotDescendantOfMyDirectlyConnectedDescendants: aFinancialContainer

	^ (innerFinancialContainers anySatisfy: [:innerFinancialContainer | innerFinancialContainer isDescendant: aFinancialContainer])
		ifTrue: [self error: self class cannotAddErrorMessage ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:20:47' prior: 50606604!
add: aFinancialContainer

	self assertFinancialContainerIsNotSelf: aFinancialContainer.
	
	self assertFinancialContainerIsNotDirectlyConnectedDescendant: aFinancialContainer.
	
	self assertFinancialContainerIsNotDescendantOfMyDirectlyConnectedDescendants: aFinancialContainer.
	
	innerFinancialContainers add: aFinancialContainer ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test18AddingFinancialContainerThatIsInsidePortfolioButNotDirectlyConnectedIsNotPossible stamp: 'FP 5/20/2023 12:20:55'!
PASSED!
!FinancialContainer methodsFor: 'nil' stamp: 'FP 5/20/2023 12:22:58'!
includesFinancialContainer: aFinancialContainerToSearch

	self subclassResponsibility ! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:23:23' prior: 50606636 overrides: 50606620!
isDescendant: aFinancialContainerToSearch

	^false! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test18AddingFinancialContainerThatIsInsidePortfolioButNotDirectlyConnectedIsNotPossible stamp: 'FP 5/20/2023 12:23:24'!
PASSED!
!ReceptiveAccount methodsFor: 'nil' stamp: 'FP 5/20/2023 12:24:51' overrides: 50606812!
includesFinancialContainer: aFinancialContainerToSearch

	^self = aFinancialContainerToSearch ! !
!Portfolio methodsFor: 'nil' stamp: 'FP 5/20/2023 12:25:55' overrides: 50606812!
includesFinancialContainer: aFinancialContainerToSearch

	^self = aFinancialContainerToSearch 
		or: 
		(innerFinancialContainers 
			anySatisfy: [:innerFinancialContainer | innerFinancialContainer includesFinancialContainer: aFinancialContainerToSearch ])! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:26:32' prior: 50606726!
add: aFinancialContainer

	(self includesFinancialContainer: aFinancialContainer) ifTrue: [self error: self class cannotAddErrorMessage ].
	
	innerFinancialContainers add: aFinancialContainer ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test18AddingFinancialContainerThatIsInsidePortfolioButNotDirectlyConnectedIsNotPossible stamp: 'FP 5/20/2023 12:26:33'!
PASSED!

----SNAPSHOT----(20 May 2023 12:26:47) CuisUniversity-5706.image priorSource: 8713240!

!methodRemoval: Portfolio #assertFinancialContainerIsNotDescendantOfMyDirectlyConnectedDescendants: stamp: 'FP 5/20/2023 12:26:52'!
assertFinancialContainerIsNotDescendantOfMyDirectlyConnectedDescendants: aFinancialContainer

	^ (innerFinancialContainers anySatisfy: [:innerFinancialContainer | innerFinancialContainer isDescendant: aFinancialContainer])
		ifTrue: [self error: self class cannotAddErrorMessage ]!

!methodRemoval: Portfolio #assertFinancialContainerIsNotDirectlyConnectedDescendant: stamp: 'FP 5/20/2023 12:26:52'!
assertFinancialContainerIsNotDirectlyConnectedDescendant: aFinancialContainer

	^ (innerFinancialContainers anySatisfy: [:innerFinancialContainer | innerFinancialContainer = aFinancialContainer])
		ifTrue: [self error: self class cannotAddErrorMessage ]!

!methodRemoval: Portfolio #assertFinancialContainerIsNotSelf: stamp: 'FP 5/20/2023 12:26:53'!
assertFinancialContainerIsNotSelf: aFinancialContainer

	^ aFinancialContainer = self ifTrue: [self error: self class cannotAddErrorMessage]!

!methodRemoval: Portfolio #isDescendant: stamp: 'FP 5/20/2023 12:26:56'!
isDescendant: aFinancialContainerToSearch

	^innerFinancialContainers 
		anySatisfy: [:innerFinancialContainer | 
			innerFinancialContainer = aFinancialContainerToSearch or: (innerFinancialContainer isDescendant: aFinancialContainerToSearch)]!

!methodRemoval: ReceptiveAccount #isDescendant: stamp: 'FP 5/20/2023 12:26:59'!
isDescendant: aFinancialContainerToSearch

	^false!

!methodRemoval: FinancialContainer #isDescendant: stamp: 'FP 5/20/2023 12:27:01'!
isDescendant: aFinancialContainerToSearch

	self subclassResponsibility !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:29:07'!
assertFinancialContainerIsNotAlreadyIncludedInPortfolioTree: aFinancialContainer

	^ (self includesFinancialContainer: aFinancialContainer) ifTrue: [self error: self class cannotAddErrorMessage ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:29:07' prior: 50606915!
add: aFinancialContainer

	self assertFinancialContainerIsNotAlreadyIncludedInPortfolioTree: aFinancialContainer.
	
	innerFinancialContainers add: aFinancialContainer ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:30:09'!
assertFinancialContainerIsNotAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer

	^ (self includesFinancialContainer: aFinancialContainer) ifTrue: [self error: self class cannotAddErrorMessage ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:30:09' prior: 50607060!
add: aFinancialContainer

	self assertFinancialContainerIsNotAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer.
	
	innerFinancialContainers add: aFinancialContainer ! !

!methodRemoval: Portfolio #assertFinancialContainerIsNotAlreadyIncludedInPortfolioTree: stamp: 'FP 5/20/2023 12:30:09'!
assertFinancialContainerIsNotAlreadyIncludedInPortfolioTree: aFinancialContainer

	^ (self includesFinancialContainer: aFinancialContainer) ifTrue: [self error: self class cannotAddErrorMessage ]!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test18AddingFinancialContainerThatIsInsidePortfolioButNotDirectlyConnectedIsNotPossible stamp: 'FP 5/20/2023 12:30:10'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 12:32:15'!
test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio

	|portfolio1 portfolio2 portfolio3  account |
	
	portfolio1 := Portfolio new. 
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
		
	account := ReceptiveAccount new. 
	Deposit register:  100 on: account. 
	
	portfolio2 add: account.
	portfolio1 add: portfolio2.
	
	portfolio3 add: account. 	
		
	self 
		should:  [portfolio1 add: portfolio3 ]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	

	
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 12:32:26'!
test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected

	|portfolio innerPortfolio accountToBeAdded|
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	accountToBeAdded := ReceptiveAccount new. 
	Deposit register:  100 on: accountToBeAdded . 
	
	innerPortfolio add: accountToBeAdded .	
	portfolio add: innerPortfolio.
		
	self 
		should:  [portfolio add: accountToBeAdded ]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	
! !

!methodRemoval: ReceptiveAccountTest #test18AddingFinancialContainerThatIsInsidePortfolioButNotDirectlyConnectedIsNotPossible stamp: 'FP 5/20/2023 12:32:26'!
test18AddingFinancialContainerThatIsInsidePortfolioButNotDirectlyConnectedIsNotPossible

	|portfolio innerPortfolio accountToBeAdded|
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	accountToBeAdded := ReceptiveAccount new. 
	Deposit register:  100 on: accountToBeAdded . 
	
	innerPortfolio add: accountToBeAdded .	
	portfolio add: innerPortfolio.
		
	self 
		should:  [portfolio add: accountToBeAdded ]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	
!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 12:32:28'!
FAILURE!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 12:32:28'!
FAILURE!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 12:33:08'!
FAILURE!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 12:33:08'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:34:02' prior: 50607078!
add: aFinancialContainer

	self assertFinancialContainerIsNotAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer.
	
	(aFinancialContainer hasAnythingIncludedIn: self) ifTrue: [self error: self class cannotAddErrorMessage ].
	
	innerFinancialContainers add: aFinancialContainer ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:34:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:34:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:34:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:34:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:34:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:34:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:34:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:34:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:34:04'!
ERROR!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:34:04'!
ERROR!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:34:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:34:04'!
ERROR!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:34:04'!
ERROR!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:34:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:34:04'!
ERROR!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:34:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:34:05'!
ERROR!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 12:34:05'!
ERROR!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 12:34:05'!
ERROR!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:34:07'!
ERROR!
!FinancialContainer methodsFor: 'nil' stamp: 'FP 5/20/2023 12:35:22'!
hasAnythingIncludedIn: aFinancialContainer

	self subclassResponsibility ! !
!ReceptiveAccount methodsFor: 'nil' stamp: 'FP 5/20/2023 12:35:40' overrides: 50607349!
hasAnythingIncludedIn: aFinancialContainer

	^aFinancialContainer includesFinancialContainer: self! !
!Portfolio methodsFor: 'nil' stamp: 'FP 5/20/2023 12:37:21' overrides: 50607349!
hasAnythingIncludedIn: aFinancialContainer

	^(aFinancialContainer includesFinancialContainer: self)
		or: 
		(innerFinancialContainers anySatisfy: [:innerFinancialContainer | innerFinancialContainer hasAnythingIncludedIn: aFinancialContainer ])! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 12:37:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 12:37:23'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:38:02'!
assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer

	^ (aFinancialContainer hasAnythingIncludedIn: self) ifTrue: [self error: self class cannotAddErrorMessage ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:38:02' prior: 50607255!
add: aFinancialContainer

	self assertFinancialContainerIsNotAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer.
	
	self assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer.
	
	innerFinancialContainers add: aFinancialContainer ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:38:08' prior: 50607459!
add: aFinancialContainer
	
	self assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer.
	
	innerFinancialContainers add: aFinancialContainer ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 12:38:10'!
PASSED!

!methodRemoval: Portfolio #assertFinancialContainerIsNotAlreadyIncludedInTreeStartingOnSelf: stamp: 'FP 5/20/2023 12:38:14'!
assertFinancialContainerIsNotAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer

	^ (self includesFinancialContainer: aFinancialContainer) ifTrue: [self error: self class cannotAddErrorMessage ]!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 12:38:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 12:38:23'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 12:38:54'!
test20CannotAddFinancialContainerThatIsParent

	|portfolio parentPorftolio1 parentPortfolio2|
	
	portfolio := Portfolio new. 
	parentPorftolio1 := Portfolio new.
	parentPortfolio2 := Portfolio new.
			
	parentPorftolio1 add: portfolio .
	parentPortfolio2 add: portfolio .
		
	self 
		should:  [portfolio add: parentPorftolio1]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	

	
	
! !

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsParent stamp: 'FP 5/20/2023 12:38:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsParent stamp: 'FP 5/20/2023 12:39:04'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 12:42:25'!
test21CannotAddFinancialContainerThatIsAParentsDescendant

	|portfolio parentPorftolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
			
	account := ReceptiveAccount new.
				
	parentPorftolio add: portfolio .
	parentPorftolio add: account.
	
		
	self 
		should:  [portfolio add: account]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	

	
	
	
	
	
! !

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAParentsDescendant stamp: 'FP 5/20/2023 12:42:26'!
FAILURE!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAParentsDescendant stamp: 'FP 5/20/2023 12:42:26'!
FAILURE!

!methodRemoval: ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsParent stamp: 'FP 5/20/2023 12:42:50'!
test20CannotAddFinancialContainerThatIsParent

	|portfolio parentPorftolio1 parentPortfolio2|
	
	portfolio := Portfolio new. 
	parentPorftolio1 := Portfolio new.
	parentPortfolio2 := Portfolio new.
			
	parentPorftolio1 add: portfolio .
	parentPortfolio2 add: portfolio .
		
	self 
		should:  [portfolio add: parentPorftolio1]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	

	
	
!

!methodRemoval: ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAParentsDescendant stamp: 'FP 5/20/2023 12:42:56'!
test21CannotAddFinancialContainerThatIsAParentsDescendant

	|portfolio parentPorftolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
			
	account := ReceptiveAccount new.
				
	parentPorftolio add: portfolio .
	parentPorftolio add: account.
	
		
	self 
		should:  [portfolio add: account]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	

	
	
	
	
	
!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 12:46:59'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 12:48:03'!
test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnotherBranch

	|portfolio parentPorftolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
			
	account := ReceptiveAccount new.
				
	parentPorftolio add: portfolio .
	parentPorftolio add: account.
	
		
	self 
		should:  [portfolio add: account]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	
	
! !

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnotherBranch stamp: 'FP 5/20/2023 12:48:05'!
FAILURE!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnotherBranch stamp: 'FP 5/20/2023 12:48:05'!
FAILURE!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 12:50:38'!
FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'innerFinancialContainers parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:50:37' prior: 50607471!
add: aFinancialContainer
	
	self assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer.
	
	(parents anySatisfy: [:aParent | aParent includesFinancialContainer: aFinancialContainer ])
		ifTrue: [self error: self class cannotAddErrorMessage ].
	
	innerFinancialContainers add: aFinancialContainer ! !

FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'innerFinancialContainers'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 12:50:43'!
FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'innerFinancialContainers'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #FinancialContainer
	instanceVariableNames: 'parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #FinancialContainer category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 12:50:47'!
Object subclass: #FinancialContainer
	instanceVariableNames: 'parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 12:51:03'!
test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch

	|portfolio parentPorftolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
			
	account := ReceptiveAccount new.
				
	parentPorftolio add: portfolio .
	parentPorftolio add: account.
	
		
	self 
		should:  [portfolio add: account]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	
	
! !

!methodRemoval: ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnotherBranch stamp: 'FP 5/20/2023 12:51:03'!
test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnotherBranch

	|portfolio parentPorftolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
			
	account := ReceptiveAccount new.
				
	parentPorftolio add: portfolio .
	parentPorftolio add: account.
	
		
	self 
		should:  [portfolio add: account]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	
	
!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 12:51:05'!
ERROR!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 12:51:05'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:51:54' prior: 50605398 overrides: 16920235!
initialize 

	innerFinancialContainers := OrderedCollection new.
	parents := OrderedCollection new.! !
!ReceptiveAccount methodsFor: 'initialization' stamp: 'FP 5/20/2023 12:52:05' prior: 50604141 overrides: 16920235!
initialize

	transactions := OrderedCollection new.
	parents := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:52:22' prior: 50607774!
add: aFinancialContainer
	
	self assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer.
	
	(parents anySatisfy: [:aParent | aParent includesFinancialContainer: aFinancialContainer ])
		ifTrue: [self error: self class cannotAddErrorMessage ].
	
	innerFinancialContainers add: aFinancialContainer.
	aFinancialContainer addParent: self! !
!FinancialContainer methodsFor: 'nil' stamp: 'FP 5/20/2023 12:52:51'!
addParent: aParentPortfolio

	parents add: aParentPortfolio ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 12:52:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 12:52:52'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:53:28'!
assertFinancialContainerIsNotIncludedInTreesStartingFromMyParents: aFinancialContainer

	^ (parents anySatisfy: [:aParent | aParent includesFinancialContainer: aFinancialContainer ])
		ifTrue: [self error: self class cannotAddErrorMessage ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:53:28' prior: 50607874!
add: aFinancialContainer
	
	self assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer.
	
	self assertFinancialContainerIsNotIncludedInTreesStartingFromMyParents: aFinancialContainer.
	
	innerFinancialContainers add: aFinancialContainer.
	aFinancialContainer addParent: self! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:53:48' prior: 50607986!
add: aFinancialContainer
		
	self assertFinancialContainerIsNotIncludedInTreesStartingFromMyParents: aFinancialContainer.
	
	innerFinancialContainers add: aFinancialContainer.
	aFinancialContainer addParent: self! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:53:50'!
FAILURE!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:53:50'!
FAILURE!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 12:53:50'!
FAILURE!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 12:53:50'!
FAILURE!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 12:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:53:52'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:54:32' prior: 50607999!
add: aFinancialContainer

	self assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer.
		
	self assertFinancialContainerIsNotIncludedInTreesStartingFromMyParents: aFinancialContainer.
	
	innerFinancialContainers add: aFinancialContainer.
	aFinancialContainer addParent: self! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 12:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 12:54:34'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 12:55:44'!
test21CannotAddFinancialContainerThatIsAncestorDescendant

	|portfolio parentPorftolio grandparentPortfolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
	grandparentPortfolio := Portfolio new.
			
	account := ReceptiveAccount new.
				
	parentPorftolio add: portfolio.
	grandparentPortfolio add: account.
	grandparentPortfolio add: parentPorftolio.
		
	self 
		should:  [portfolio add: account]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	

! !

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 12:55:45'!
FAILURE!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 12:55:45'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 12:56:17'!
test21CannotAddFinancialContainerThatIsAnyAncestorDescendant

	|portfolio parentPorftolio grandparentPortfolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
	grandparentPortfolio := Portfolio new.
			
	account := ReceptiveAccount new.
				
	parentPorftolio add: portfolio.
	grandparentPortfolio add: account.
	grandparentPortfolio add: parentPorftolio.
		
	self 
		should:  [portfolio add: account]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	

! !

!methodRemoval: ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 12:56:17'!
test21CannotAddFinancialContainerThatIsAncestorDescendant

	|portfolio parentPorftolio grandparentPortfolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
	grandparentPortfolio := Portfolio new.
			
	account := ReceptiveAccount new.
				
	parentPorftolio add: portfolio.
	grandparentPortfolio add: account.
	grandparentPortfolio add: parentPorftolio.
		
	self 
		should:  [portfolio add: account]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	

!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 12:56:19'!
FAILURE!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 12:56:19'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 12:57:12' prior: 50608095!
add: aFinancialContainer

	self assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer.
		
	self assertFinancialContainerIsNotIncludedInTreesStartingFromMyParents: aFinancialContainer.
	
	(self roots anySatisfy: [:aRoot | aRoot includesFinancialContainer: aFinancialContainer ])
		ifTrue: [self error: self class cannotAddErrorMessage ].
	
	innerFinancialContainers add: aFinancialContainer.
	aFinancialContainer addParent: self! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 12:57:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:57:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 12:57:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 12:57:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 12:57:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 12:57:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 12:57:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 12:57:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:57:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 12:57:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 12:57:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 12:57:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 12:57:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 12:57:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 12:57:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 12:57:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 12:57:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 12:57:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 12:57:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 12:57:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 12:57:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 12:57:19'!
ERROR!
!Portfolio methodsFor: 'nil' stamp: 'FP 5/20/2023 12:59:57'!
roots
	
	^parents 
		inject: (parents isEmpty ifTrue: [OrderedCollection with: self] ifFalse: [OrderedCollection new])
		into: [:allRoots :aParent | allRoots addAll: aParent roots]
! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 13:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 13:00:16'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 13:01:00'!
assertFinancialContainerIsNotIncludedInTreesStartingFromMyRoots: aFinancialContainer

	^ (self roots anySatisfy: [:aRoot | aRoot includesFinancialContainer: aFinancialContainer ])
		ifTrue: [self error: self class cannotAddErrorMessage ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 13:01:00' prior: 50608270!
add: aFinancialContainer

	self assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer.
		
	self assertFinancialContainerIsNotIncludedInTreesStartingFromMyParents: aFinancialContainer.
	
	self assertFinancialContainerIsNotIncludedInTreesStartingFromMyRoots: aFinancialContainer.
	
	innerFinancialContainers add: aFinancialContainer.
	aFinancialContainer addParent: self! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 13:01:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 13:01:03'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 13:01:08' prior: 50608484!
add: aFinancialContainer

	self assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer.
			
	self assertFinancialContainerIsNotIncludedInTreesStartingFromMyRoots: aFinancialContainer.
	
	innerFinancialContainers add: aFinancialContainer.
	aFinancialContainer addParent: self! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 13:01:09'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/20/2023 13:01:37'!
test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant

	|portfolio aPortfolioToBeAdded parentPorftolio grandparentPortfolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
	grandparentPortfolio := Portfolio new.
	aPortfolioToBeAdded := Portfolio new.
	
	account := ReceptiveAccount new.
	aPortfolioToBeAdded add: account.
			
				
	parentPorftolio add: portfolio.
	grandparentPortfolio add: account.
	grandparentPortfolio add: parentPorftolio.
		
	self 
		should:  [portfolio add: aPortfolioToBeAdded ]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage .
			]
	


! !

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 13:01:38'!
FAILURE!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 13:01:38'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 13:03:28' prior: 50608587!
add: aFinancialContainer

	self assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer.
			
	self assertFinancialContainerIsNotIncludedInTreesStartingFromMyRoots: aFinancialContainer.
	
	(self roots anySatisfy: [:aRoot | aFinancialContainer hasAnythingIncludedIn: aRoot])
		ifTrue: [self error: self class cannotAddErrorMessage ].
		
	innerFinancialContainers add: aFinancialContainer.
	aFinancialContainer addParent: self! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 13:03:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 13:03:30'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 13:04:27'!
assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingFromRoot: aFinancialContainer

	^ (self roots anySatisfy: [:aRoot | aFinancialContainer hasAnythingIncludedIn: aRoot])
		ifTrue: [self error: self class cannotAddErrorMessage ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 13:04:27' prior: 50608722!
add: aFinancialContainer

	self assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer.
			
	self assertFinancialContainerIsNotIncludedInTreesStartingFromMyRoots: aFinancialContainer.
	
	self assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingFromRoot: aFinancialContainer.
		
	innerFinancialContainers add: aFinancialContainer.
	aFinancialContainer addParent: self! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 13:04:32' prior: 50608842!
add: aFinancialContainer
	
	self assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingFromRoot: aFinancialContainer.
		
	innerFinancialContainers add: aFinancialContainer.
	aFinancialContainer addParent: self! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 13:04:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:04:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:04:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 13:04:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 13:04:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 13:04:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 13:04:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 13:04:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 13:04:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 13:04:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 13:04:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 13:04:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 13:04:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 13:04:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 13:04:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 13:04:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 13:04:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 13:04:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 13:04:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 13:04:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 13:04:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 13:04:34'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 13:04:47'!
assertFinancialContainerHasNothingAlreadyIncludedInHierarchy: aFinancialContainer

	^ (self roots anySatisfy: [:aRoot | aFinancialContainer hasAnythingIncludedIn: aRoot])
		ifTrue: [self error: self class cannotAddErrorMessage ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 13:04:47' prior: 50608858!
add: aFinancialContainer
	
	self assertFinancialContainerHasNothingAlreadyIncludedInHierarchy: aFinancialContainer.
		
	innerFinancialContainers add: aFinancialContainer.
	aFinancialContainer addParent: self! !

!methodRemoval: Portfolio #assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingFromRoot: stamp: 'FP 5/20/2023 13:04:47'!
assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingFromRoot: aFinancialContainer

	^ (self roots anySatisfy: [:aRoot | aFinancialContainer hasAnythingIncludedIn: aRoot])
		ifTrue: [self error: self class cannotAddErrorMessage ]!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 13:04:49'!
PASSED!

!methodRemoval: Portfolio #assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingOnSelf: stamp: 'FP 5/20/2023 13:05:24'!
assertFinancialContainerHasNothingAlreadyIncludedInTreeStartingOnSelf: aFinancialContainer

	^ (aFinancialContainer hasAnythingIncludedIn: self) ifTrue: [self error: self class cannotAddErrorMessage ]!

!methodRemoval: Portfolio #assertFinancialContainerIsNotIncludedInTreesStartingFromMyParents: stamp: 'FP 5/20/2023 13:05:26'!
assertFinancialContainerIsNotIncludedInTreesStartingFromMyParents: aFinancialContainer

	^ (parents anySatisfy: [:aParent | aParent includesFinancialContainer: aFinancialContainer ])
		ifTrue: [self error: self class cannotAddErrorMessage ]!

!methodRemoval: Portfolio #assertFinancialContainerIsNotIncludedInTreesStartingFromMyRoots: stamp: 'FP 5/20/2023 13:05:27'!
assertFinancialContainerIsNotIncludedInTreesStartingFromMyRoots: aFinancialContainer

	^ (self roots anySatisfy: [:aRoot | aRoot includesFinancialContainer: aFinancialContainer ])
		ifTrue: [self error: self class cannotAddErrorMessage ]!

----SNAPSHOT----(20 May 2023 13:06:28) CuisUniversity-5706.image priorSource: 8811064!

Object subclass: #FinancialContainer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #FinancialContainer category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 13:06:38'!
Object subclass: #FinancialContainer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'innerFinancialContainers parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 13:06:43'!
FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'innerFinancialContainers parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!FinancialContainer methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 13:06:53' prior: 50607888!
addParent: aParentPortfolio

	self subclassResponsibility ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'FP 5/20/2023 13:07:08' overrides: 50609147!
addParent: aParentPortfolio

	parents add: aParentPortfolio ! !
!ReceptiveAccount methodsFor: 'nil' stamp: 'FP 5/20/2023 13:07:15' overrides: 50609147!
addParent: aParentPortfolio
! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 13:07:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 13:09:23'!
PASSED!

----STARTUP---- (20 May 2023 13:10:21) as /Users/fabrizioprida/Desktop/ejercicioPortfolio1/CuisUniversity-5706.image!


Object subclass: #FinancialContainer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #FinancialContainer category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 13:10:27'!
Object subclass: #FinancialContainer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'innerFinancialContainers parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'FP 5/20/2023 13:10:31'!
FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'innerFinancialContainers parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'nil' stamp: 'FP 5/20/2023 13:10:52' overrides: 50607888!
addParent: aParentPortfolio

	parents add: aParentPortfolio ! !
!ReceptiveAccount methodsFor: 'nil' stamp: 'FP 5/20/2023 13:11:01' overrides: 50607888!
addParent: aParentPortfolio

	! !

!methodRemoval: FinancialContainer #addParent: stamp: 'FP 5/20/2023 13:11:11'!
addParent: aParentPortfolio

	parents add: aParentPortfolio !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 13:11:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 13:11:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 13:11:21'!
PASSED!
!FinancialContainer methodsFor: 'nil' stamp: 'FP 5/20/2023 13:11:38'!
addParent: aParentPortfolio

	self subclassResponsibility ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 13:11:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 13:11:46'!
PASSED!
!FinancialContainer methodsFor: 'initialization' stamp: 'FP 5/20/2023 13:16:13' overrides: 16920235!
initialize

	self subclassResponsibility ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 13:16:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/20/2023 13:28:04'!
PASSED!

----SNAPSHOT----(20 May 2023 13:28:12) CuisUniversity-5706.image priorSource: 8878923!

----STARTUP---- (22 May 2023 11:57:14) as /Users/fabrizioprida/Desktop/ejercicioPortfolio1/CuisUniversity-5706.image!

!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/22/2023 12:13:36'!
test20CannotAddFinancialContainerThatIsAParentsDescendantFromSiblingsBranches

	|portfolio parentPorftolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
			
	account := ReceptiveAccount new.
				
	parentPorftolio add: portfolio .
	parentPorftolio add: account.
	
		
	self 
		should:  [portfolio add: account]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	
	
! !

!methodRemoval: ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch stamp: 'FP 5/22/2023 12:13:36'!
test20CannotAddFinancialContainerThatIsAParentsDescendantFromAnyBranch

	|portfolio parentPorftolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
			
	account := ReceptiveAccount new.
				
	parentPorftolio add: portfolio .
	parentPorftolio add: account.
	
		
	self 
		should:  [portfolio add: account]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	
	
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/22/2023 12:19:54'!
test21CannotAddFinancialContainerThatIsARootOrDescendantOfARoot

	|portfolio parentPorftolio grandparentPortfolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
	grandparentPortfolio := Portfolio new.
			
	account := ReceptiveAccount new.
				
	parentPorftolio add: portfolio.
	grandparentPortfolio add: account.
	grandparentPortfolio add: parentPorftolio.
		
	self 
		should:  [portfolio add: account]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	

! !

!methodRemoval: ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsAnyAncestorDescendant stamp: 'FP 5/22/2023 12:19:54'!
test21CannotAddFinancialContainerThatIsAnyAncestorDescendant

	|portfolio parentPorftolio grandparentPortfolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
	grandparentPortfolio := Portfolio new.
			
	account := ReceptiveAccount new.
				
	parentPorftolio add: portfolio.
	grandparentPortfolio add: account.
	grandparentPortfolio add: parentPorftolio.
		
	self 
		should:  [portfolio add: account]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	

!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/22/2023 12:20:11'!
test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsARootOrDescendantOfARoot

	|portfolio aPortfolioToBeAdded parentPorftolio grandparentPortfolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
	grandparentPortfolio := Portfolio new.
	aPortfolioToBeAdded := Portfolio new.
	
	account := ReceptiveAccount new.
	aPortfolioToBeAdded add: account.
			
				
	parentPorftolio add: portfolio.
	grandparentPortfolio add: account.
	grandparentPortfolio add: parentPorftolio.
		
	self 
		should:  [portfolio add: aPortfolioToBeAdded ]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage .
			]
	


! !

!methodRemoval: ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant stamp: 'FP 5/22/2023 12:20:11'!
test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAncestorDescendant

	|portfolio aPortfolioToBeAdded parentPorftolio grandparentPortfolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
	grandparentPortfolio := Portfolio new.
	aPortfolioToBeAdded := Portfolio new.
	
	account := ReceptiveAccount new.
	aPortfolioToBeAdded add: account.
			
				
	parentPorftolio add: portfolio.
	grandparentPortfolio add: account.
	grandparentPortfolio add: parentPorftolio.
		
	self 
		should:  [portfolio add: aPortfolioToBeAdded ]
		raise: Error  
		withExceptionDo: [:anError|
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage .
			]
	


!

----SNAPSHOT----(22 May 2023 12:25:18) CuisUniversity-5706.image priorSource: 8895390!

FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'innerFinancialContainers '
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'FP 5/22/2023 12:26:07'!
FinancialContainer subclass: #Portfolio
	instanceVariableNames: 'innerFinancialContainers'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #FinancialContainer
	instanceVariableNames: 'parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #FinancialContainer category: 'Portfolio-Ejercicio' stamp: 'FP 5/22/2023 12:26:11'!
Object subclass: #FinancialContainer
	instanceVariableNames: 'parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!FinancialContainer methodsFor: 'hierarchy' stamp: 'FP 5/22/2023 12:26:26' prior: 50609347!
addParent: aParentPortfolio

	parents add: aParentPortfolio ! !

!methodRemoval: Portfolio #addParent: stamp: 'FP 5/22/2023 12:26:30'!
addParent: aParentPortfolio

	parents add: aParentPortfolio !

!methodRemoval: ReceptiveAccount #addParent: stamp: 'FP 5/22/2023 12:26:34'!
addParent: aParentPortfolio

	!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromSiblingsBranches stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 12:26:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/22/2023 12:36:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/22/2023 12:36:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/22/2023 12:36:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromSiblingsBranches stamp: 'FP 5/22/2023 12:36:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 12:36:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 12:36:46'!
PASSED!
!Portfolio methodsFor: 'hierarchy' stamp: 'FP 5/22/2023 12:40:33'!
addMyselfToEmptyListIfImRoot

	^ parents isEmpty ifTrue: [OrderedCollection with: self] ifFalse: [OrderedCollection new]! !
!Portfolio methodsFor: 'hierarchy' stamp: 'FP 5/22/2023 12:40:33' prior: 50608378!
roots
	
	^parents 
		inject: (self addMyselfToEmptyListIfImRoot)
		into: [:allRoots :aParent | allRoots addAll: aParent roots]
! !
!Portfolio methodsFor: 'hierarchy' stamp: 'FP 5/22/2023 12:43:38'!
anyOfMyDescendantsIncludes: aFinancialContainerToSearch

	^ innerFinancialContainers 
			anySatisfy: [:innerFinancialContainer | innerFinancialContainer includesFinancialContainer: aFinancialContainerToSearch ]! !
!Portfolio methodsFor: 'hierarchy' stamp: 'FP 5/22/2023 12:43:38' prior: 50606903 overrides: 50606812!
includesFinancialContainer: aFinancialContainerToSearch

	^self = aFinancialContainerToSearch 
		or: 
		(self anyOfMyDescendantsIncludes: aFinancialContainerToSearch)! !
!Portfolio methodsFor: 'hierarchy' stamp: 'FP 5/22/2023 12:44:30'!
anyOfMyDescendantsHasAnythingIncludedIn: aFinancialContainer

	^ innerFinancialContainers anySatisfy: [:innerFinancialContainer | innerFinancialContainer hasAnythingIncludedIn: aFinancialContainer ]! !
!Portfolio methodsFor: 'hierarchy' stamp: 'FP 5/22/2023 12:44:30' prior: 50607361 overrides: 50607349!
hasAnythingIncludedIn: aFinancialContainer

	^(aFinancialContainer includesFinancialContainer: self)
		or: 
		(self anyOfMyDescendantsHasAnythingIncludedIn: aFinancialContainer)! !
!Portfolio methodsFor: 'assertions' stamp: 'FP 5/22/2023 12:46:35'!
hasGivenFinancialContainerAnythingIncludedInAnyRoot: aFinancialContainer

	^ self roots anySatisfy: [:aRoot | aFinancialContainer hasAnythingIncludedIn: aRoot]! !
!Portfolio methodsFor: 'assertions' stamp: 'FP 5/22/2023 12:46:35' prior: 50608960!
assertFinancialContainerHasNothingAlreadyIncludedInHierarchy: aFinancialContainer

	^ (self hasGivenFinancialContainerAnythingIncludedInAnyRoot: aFinancialContainer)
		ifTrue: [self error: self class cannotAddErrorMessage ]! !

----SNAPSHOT----(22 May 2023 12:50:52) CuisUniversity-5706.image priorSource: 8899797!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/22/2023 13:00:33'!
assertCannotAdd: aFinancialContainerToBeAdded to: aPortfolio
	
	self 
		should:  [aPortfolio add: aFinancialContainerToBeAdded ]
		raise: Error
		withExceptionDo: [:anError |
			self assert: anError messageText equals: Portfolio cannotAddErrorMessage.
			]
	
		! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/22/2023 13:00:56' prior: 50606078!
test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio

	|portfolio accountToBeAdded|
	
	portfolio := Portfolio new. 
	
	accountToBeAdded := ReceptiveAccount new. 
	portfolio add: accountToBeAdded . 
	
	self assertCannotAdd: accountToBeAdded to: portfolio.
	! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromSiblingsBranches stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:00:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:00:57'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/22/2023 13:01:07' prior: 50605917!
test16PortfolioCannotAddItself

	|portfolio |
	portfolio := Portfolio new. 
	
	self assertCannotAdd: portfolio to: portfolio 
	! !

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/22/2023 13:01:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/22/2023 13:01:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromSiblingsBranches stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:01:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:01:09'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/22/2023 13:01:19' prior: 50607190!
test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected

	|portfolio innerPortfolio accountToBeAdded|
	
	portfolio := Portfolio new. 
	innerPortfolio := Portfolio new.
	
	accountToBeAdded := ReceptiveAccount new. 
	Deposit register:  100 on: accountToBeAdded . 
	
	innerPortfolio add: accountToBeAdded .	
	portfolio add: innerPortfolio.
		
	self assertCannotAdd: accountToBeAdded to: portfolio 
! !

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromSiblingsBranches stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:01:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:01:20'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/22/2023 13:01:36' prior: 50607169!
test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio

	|portfolio1 portfolio2 portfolio3  account |
	
	portfolio1 := Portfolio new. 
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
		
	account := ReceptiveAccount new. 
	Deposit register:  100 on: account. 
	
	portfolio2 add: account.
	portfolio1 add: portfolio2.
	
	portfolio3 add: account. 	
		
	self assertCannotAdd: portfolio3 to: portfolio1 
	

	
! !

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/22/2023 13:01:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/22/2023 13:01:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 13:01:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 13:01:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/22/2023 13:01:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/22/2023 13:01:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/22/2023 13:01:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/22/2023 13:01:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/22/2023 13:01:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/22/2023 13:01:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/22/2023 13:01:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/22/2023 13:01:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/22/2023 13:01:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/22/2023 13:01:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/22/2023 13:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/22/2023 13:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/22/2023 13:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/22/2023 13:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/22/2023 13:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/22/2023 13:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromSiblingsBranches stamp: 'FP 5/22/2023 13:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:01:37'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/22/2023 13:01:46' prior: 50609638!
test20CannotAddFinancialContainerThatIsAParentsDescendantFromSiblingsBranches

	|portfolio parentPorftolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
			
	account := ReceptiveAccount new.
				
	parentPorftolio add: portfolio .
	parentPorftolio add: account.
	
		
	self assertCannotAdd: account to: portfolio 
	
! !

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromSiblingsBranches stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromSiblingsBranches stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:01:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:01:47'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/22/2023 13:01:57' prior: 50609675!
test21CannotAddFinancialContainerThatIsARootOrDescendantOfARoot

	|portfolio parentPorftolio grandparentPortfolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
	grandparentPortfolio := Portfolio new.
			
	account := ReceptiveAccount new.
				
	parentPorftolio add: portfolio.
	grandparentPortfolio add: account.
	grandparentPortfolio add: parentPorftolio.
		
	self assertCannotAdd: account to: portfolio 
	

! !

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromSiblingsBranches stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:01:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:01:58'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'FP 5/22/2023 13:02:12' prior: 50609717!
test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsARootOrDescendantOfARoot

	|portfolio aPortfolioToBeAdded parentPorftolio grandparentPortfolio account|
	
	portfolio := Portfolio new. 
	parentPorftolio := Portfolio new.
	grandparentPortfolio := Portfolio new.
	aPortfolioToBeAdded := Portfolio new.
	
	account := ReceptiveAccount new.
	aPortfolioToBeAdded add: account.
			
				
	parentPorftolio add: portfolio.
	grandparentPortfolio add: account.
	grandparentPortfolio add: parentPorftolio.
		
	self assertCannotAdd: aPortfolioToBeAdded to: portfolio 


! !

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:02:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPorftolioHasBalanceZero stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test09PortfolioIncludingOnlyAccountsHasSameBalanceAsTheirBalancesSum stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test10PortfolioWithPortfoliosAndAccountsHasSameBalanceAsTheirBalanceSum stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test11EmptyPortfolioHasNoRegisteredTransactions stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test12PortfolioOnlyWithAccountsHasSameRegisteredTransactionsAsAccounts stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithPortfoliosAndAccountsHasSameRegisteredTransactionsAsThem stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test14EmptyPortfolioHasNoTransactions stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test15PortfolioWithManyFinancialContainerHasSameTransactionsAsThem stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioCannotAddItself stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test17CannotAddFinancialContainerThatIsAlreadyDirectlyConnectedToPortfolio stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddFinancialContainerThatIsInsidePortfolioButNotDirectlyConnected stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsAlreadyInsidePortfolio stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CannotAddFinancialContainerThatIsAParentsDescendantFromSiblingsBranches stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CannotAddFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CannotAddFinancialContainerThatIncludesAnotherFinancialContainerThatIsARootOrDescendantOfARoot stamp: 'FP 5/22/2023 13:02:40'!
PASSED!

----SNAPSHOT----(22 May 2023 13:04:14) CuisUniversity-5706.image priorSource: 8909218!